# BackendPM 后台权限管理系统 - 待开发功能清单

## 概述

BackendPM是一个基于.NET 8开发的后台权限管理系统，采用领域驱动设计(DDD)架构。该系统提供了完善的用户、角色和权限管理功能，适用于需要精细化权限控制的各类管理系统。

本文档列出了系统中已规划但尚未实现或需要完善的功能模块，作为后续开发的任务清单。

## 1. 待开发控制器

从项目设计和现有代码分析，以下控制器需要实现：

### 1.1 部门管理控制器 (DepartmentsController)
- **状态**：待开发
- **说明**：尽管已定义了部门仓储接口和实现，但缺少对应的API控制器
- **功能点**：
  - 创建部门
  - 更新部门信息
  - 删除部门
  - 分页获取部门列表
  - 获取部门层级结构
  - 部门与用户关联管理
  - 获取用户的主部门信息

### 1.2 菜单管理控制器 (MenusController)
- **状态**：待开发
- **说明**：系统已定义了菜单实体和相关关系，但缺少对应的API控制器
- **功能点**：
  - 创建菜单项
  - 更新菜单项
  - 删除菜单项
  - 获取菜单树形结构
  - 角色菜单权限分配
  - 获取用户可见菜单

### 1.3 权限管理控制器 (PermissionsController)
- **状态**：部分功能可能已在其他控制器中实现，需完善独立控制器
- **功能点**：
  - 获取所有权限列表
  - 分页查询权限
  - 按资源类型过滤权限
  - 创建自定义权限（非系统权限）
  - 更新权限描述信息
  - 删除自定义权限

## 2. 待完善功能模块

### 2.1 部门管理模块
- **状态**：基础领域模型已定义，待实现应用层和表示层
- **待开发组件**：
  - 部门相关DTO模型
  - 部门命令和查询类及处理器
  - 部门与用户关系管理
  - 部门树形结构管理
  - AutoMapper映射配置

### 2.2 菜单管理模块
- **状态**：基础领域模型已定义，待实现应用层和表示层
- **待开发组件**：
  - 菜单相关DTO模型（部分已有）
  - 菜单命令和查询类及处理器
  - 菜单树形结构管理
  - 角色菜单关联管理
  - 前端动态菜单权限控制API

### 2.3 高级权限功能
- **状态**：基础权限系统已实现，需要完善高级功能
- **待开发功能**：
  - 权限组管理
  - 权限依赖关系
  - 基于数据范围的权限控制
  - 权限导入/导出
  - 权限变更审计日志

### 2.4 系统监控与管理
- **状态**：待开发
- **功能点**：
  - 系统操作日志记录
  - 用户登录日志
  - 在线用户监控
  - 系统性能监控
  - API调用统计

## 3. 测试相关工作

### 3.1 单元测试
- **状态**：待开发
- **说明**：为核心业务逻辑和领域实体编写单元测试
- **待测试组件**：
  - 部门实体和相关业务规则
  - 菜单实体和相关业务规则
  - 各种命令处理器
  - 验证器

### 3.2 集成测试
- **状态**：待开发
- **说明**：测试组件间交互，特别是与数据库的交互
- **待测试内容**：
  - API控制器测试
  - 仓储实现测试
  - 事务管理测试
  - 权限验证测试

## 4. 前端功能开发

虽然当前项目主要关注后端API，以下前端功能点也需要规划：

- 部门管理页面
- 菜单管理页面
- 菜单权限分配界面
- 用户部门分配界面
- 系统监控仪表板
- 操作日志查询界面

## 5. 部署与DevOps相关

- **CI/CD流程**：待完善
- **Docker容器化**：待实现
- **部署文档**：待编写
- **性能测试和调优**：待执行

## 6. 文档完善

- API使用文档完善
- 部门和菜单模块的接口文档
- 系统架构文档更新
- 开发者指南完善

## 优先级建议

1. **高优先级**：
   - 部门管理控制器和相关功能
   - 菜单管理控制器和相关功能
   - 权限管理控制器完善

2. **中优先级**：
   - 系统监控与管理
   - 单元测试和集成测试
   - 高级权限功能

3. **低优先级**：
   - 前端功能开发
   - 部署与DevOps相关
   - 文档完善

---

注：本文档将随着项目开发进度定期更新，以反映最新的待开发功能状态。